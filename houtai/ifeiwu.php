<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto xjLzL; WqrAP: if (!$this->table) { goto ncJkI; } goto wSuWC; xjLzL: $this->admin = $_GET["\141\144\x6d\151\x6e"]; goto WqrAP; F2Pnm: if (!in_array("\143\x74\x69\x6d\145", $this->fields)) { goto wMBue; } goto Bg2sG; wSuWC: $this->db = ifeiwu\Db::getInstance(); goto CuyRI; YNSxa: $this->order = array(); goto jzhWf; Lx8lW: ZvGoj: goto F2Pnm; jzhWf: if (!in_array("\x73\157\162\164\142\171", $this->fields)) { goto ZvGoj; } goto dGo_X; uJiNl: $this->fields = $this->_getTableFields($this->table); goto YNSxa; CuyRI: $this->prefix = $this->db->getPrefix(); goto uJiNl; dGo_X: $this->order[] = "\163\157\x72\x74\142\171\40\104\x45\x53\x43"; goto Lx8lW; woKoe: wMBue: goto gjBsL; Bg2sG: $this->order[] = "\143\x74\x69\x6d\145\x20\x44\105\x53\x43"; goto woKoe; gjBsL: ncJkI: goto fNJLf; fNJLf: } public function __destruct() { goto N0EjP; N0EjP: if (!APP_DEBUG) { goto m1O1j; } goto cun_S; mBc5I: m1O1j: goto N2MYM; cun_S: $this->_debug($this->db->log()); goto mBc5I; N2MYM: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto zcKLT; zUunG: hkq0_: goto RRPeJ; rUnK5: $res["\143\x6f\144\x65"] = $code; goto iB2J0; zcKLT: $res = array(); goto rUnK5; ep3FJ: return $res; goto dFjDj; RRPeJ: $res["\144\141\x74\x61"] = $message; goto u3vd7; zNWVp: goto Q1mD7; goto zUunG; on4vh: $res["\x64\x61\x74\x61"] = $data; goto Mg8A6; acVQM: $res["\x6d\145\163\x73\x61\147\145"] = $message; goto zNWVp; Mg8A6: tZQYw: goto ep3FJ; u3vd7: Q1mD7: goto alRje; alRje: if (!$data) { goto tZQYw; } goto on4vh; iB2J0: if (is_array($message)) { goto hkq0_; } goto acVQM; dFjDj: } protected function _bulidData($request_data) { goto xkh_B; QWG02: $column[] = "\x61\x6c\151\141\163"; goto LAm1g; s62F_: if (!in_array("\x74\151\164\154\145", $this->fields)) { goto tWAaf; } goto Z54Jt; MC8Pt: $data["\x6a\x73\157\x6e"] = $category ? json_encode(array("\x63" => $category)) : ''; goto KfnGB; DXkmy: $column = array("\x69\144"); goto s62F_; g6g7J: $pid = $data["\x70\x69\144"]; goto yHLaf; EAemx: DMAK1: goto KQacK; d5in9: OE2_P: goto g6g7J; LAm1g: isWT7: goto unNqf; Z54Jt: $column[] = "\x74\x69\x74\x6c\x65"; goto tw62S; tw62S: tWAaf: goto PgLA6; unNqf: $category = $this->db->select($this->table, $column)->where("\x69\x64\x20\x3d\x20{$pid}")->get(); goto MC8Pt; wFOiU: return $data; goto fdwm1; yHLaf: if (!($pid > 0 && in_array("\152\x73\157\156", $this->fields))) { goto KWPiH; } goto DXkmy; KfnGB: KWPiH: goto wFOiU; xkh_B: $data = array(); goto NsIsQ; KQacK: $data["\163\x74\x61\x74\x65"] = isset($data["\x73\x74\x61\164\x65"]) ? $data["\x73\x74\x61\x74\145"] : 0; goto ILltu; NsIsQ: foreach ($this->fields as $field) { goto t11Zt; gUCBV: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto ui5X2; t11Zt: $value = $request_data[$field]; goto lbVLD; lbVLD: if (!($value !== null)) { goto rp3na; } goto gUCBV; ui5X2: rp3na: goto PedYD; PedYD: Jr8bL: goto RayKW; RayKW: } goto EAemx; ILltu: if (!isset($request_data["\x63\164\151\155\145"])) { goto OE2_P; } goto o5BW2; o5BW2: $data["\143\164\151\155\145"] = strtotime($request_data["\143\x74\x69\155\x65"]); goto d5in9; PgLA6: if (!in_array("\141\154\x69\x61\x73", $this->fields)) { goto isWT7; } goto QWG02; fdwm1: } protected function _encode($data) { goto IqOAO; SFhND: return $tmp; goto wXxi8; ZKZlL: if (!is_object($data)) { goto UuE8k; } goto pbljy; SQx1Q: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); n_vED: } goto jb0y1; wXxi8: UuE8k: goto SghY1; jb0y1: fTAIg: goto SFhND; SIuNl: return array_map(array($this, "\137\145\x6e\143\157\x64\145"), $data); goto Ni0F_; Ni0F_: EGW4b: goto ZKZlL; pbljy: $tmp = clone $data; goto SQx1Q; SghY1: return htmlspecialchars($data, ENT_QUOTES); goto oR5UC; IqOAO: if (!is_array($data)) { goto EGW4b; } goto SIuNl; oR5UC: } protected function _decode($data) { goto t0fPB; RV0Oz: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); P8xRW: } goto zVGa6; t0fPB: if (!is_array($data)) { goto ZqBvo; } goto Smp3Z; YGT4t: if (!is_object($data)) { goto v4vnK; } goto aIX0a; LKeZe: v4vnK: goto cjy48; Smp3Z: return array_map(array($this, "\137\144\145\x63\x6f\x64\145"), $data); goto aitYA; zVGa6: SQsgq: goto yUSwi; aIX0a: $tmp = clone $data; goto RV0Oz; aitYA: ZqBvo: goto YGT4t; cjy48: return htmlspecialchars_decode($data, ENT_QUOTES); goto p1H0t; yUSwi: return $tmp; goto LKeZe; p1H0t: } protected function _getTableFields($table) { goto eQoSu; xhwo4: $count = $query->columnCount(); goto aOSoc; Sk7lS: goto N7jYu; goto PZmeT; JLeJB: N7jYu: goto y58wo; eQoSu: if ($table) { goto mxddu; } goto qG_Jj; Svwrx: $column = $query->getColumnMeta($i); goto Ghe_Y; E_Ev8: return $fields; goto icslc; OymHU: drc1c: goto uVGF0; BGfLa: PiEU4: goto E_Ev8; cpguf: if (!($i < $count)) { goto PiEU4; } goto Svwrx; qG_Jj: $table = $this->prefix . $this->table; goto Sk7lS; y58wo: $query = $this->db->query("\123\105\114\x45\103\124\x20\x2a\40\106\x52\x4f\x4d\40{$table}"); goto xhwo4; uVGF0: $i++; goto NLHsb; w8dpA: meagK: goto cpguf; BRQHc: $table = $this->prefix . $table; goto JLeJB; aOSoc: $i = 0; goto w8dpA; PZmeT: mxddu: goto BRQHc; Ghe_Y: $fields[] = $column["\x6e\141\x6d\x65"]; goto OymHU; NLHsb: goto meagK; goto BGfLa; icslc: } protected function _callback($method, $params) { goto W7_ho; W7_ho: if (!(is_callable(array($this, $method)) !== false)) { goto ajatA; } goto MaAbS; N8ycl: ajatA: goto kUTVq; MaAbS: call_user_func_array(array($this, $method), $params); goto N8ycl; kUTVq: } protected function _getLevel($pid, $id) { goto AHuxb; chMGi: $pid = $this->db->select($this->table, "\x70\151\x64")->where(array("\x69\x64", "\x3d", $id))->get(0); goto DO_YL; hKuFN: $this->_getLevel('', $pid); goto rW1zv; uX1X0: return "\54" . $id . "\54"; goto iZh21; UbwnY: xBXp9: goto uX1X0; gcuvA: goto Kw4sj; goto NvqYb; AHuxb: static $list = array(); goto BAOYu; DO_YL: lrdYv: goto Vg_fC; iZh21: o8aK2: goto hUOWK; NvqYb: NRScB: goto qDgSB; qDgSB: return "\x2c" . implode("\54", array_reverse($list)) . "\x2c" . $id . "\54"; goto kOD3Y; RwsgB: if (count($list) == 0) { goto xBXp9; } goto qkJZ5; rW1zv: z_dE9: goto RwsgB; Lk9Tq: return "\54" . implode("\54", array_reverse($list)) . "\x2c"; goto gcuvA; BAOYu: if (!($pid === '')) { goto lrdYv; } goto chMGi; Vg_fC: if (!($pid != 0)) { goto z_dE9; } goto pb9tI; pb9tI: $list[] = $pid; goto hKuFN; p5Sns: goto o8aK2; goto UbwnY; kOD3Y: Kw4sj: goto p5Sns; qkJZ5: if ($id) { goto NRScB; } goto Lk9Tq; hUOWK: } protected function _saveData($table, $data, $where) { goto K1jxh; xxKHR: return $this->db->insert($table, $data)->is(); goto OCEGO; K1jxh: if ($this->db->select($table)->where($where)->has()) { goto Mj7cn; } goto xxKHR; E9NMU: Mj7cn: goto Bcy5O; gxaDb: SL7v1: goto Gkpd0; Bcy5O: return $this->db->update($table, $data, $where)->is(); goto gxaDb; OCEGO: goto SL7v1; goto E9NMU; Gkpd0: } protected function _saveImages($pid, $request_data) { goto sSvq8; pQaNx: $data["\143\x74\x69\155\145"] = time(); goto hY4x2; WGnEn: $images_order = $request_data["\x69\x6d\x61\147\x65\x73\x5f\x6f\162\144\145\x72"]; goto YK81B; WdvDf: wu0pA: goto cUHFj; S8q3B: $images_path = $request_data["\151\x6d\141\x67\x65\163\137\x70\x61\164\150"]; goto EQNlZ; sbG3C: $images_name = $request_data["\x69\155\x61\147\145\163\x5f\156\141\x6d\145"]; goto S8q3B; EQNlZ: $images_state = $request_data["\151\x6d\141\147\145\x73\x5f\163\x74\141\x74\x65"]; goto WIBgK; YK81B: $images_title = $request_data["\151\155\x61\x67\145\163\137\164\x69\164\154\x65"]; goto sbG3C; hY4x2: foreach ($images_id as $i => $id) { goto x3t1m; kk1lJ: if (empty($id)) { goto lPQ2X; } goto ulP5c; lXmyk: SyYrm: goto y_3Rt; x3t1m: $data["\x74\x69\164\x6c\x65"] = $images_title[$i]; goto MmB7k; humCA: $this->db->insert($this->table, $data); goto LWVn6; ID70G: lPQ2X: goto ysO1j; ulP5c: $this->db->update($this->table, $data, array("\151\144", "\75", $id)); goto Jf81I; LWVn6: unset($data["\151\x6d\141\x67\145"], $data["\x69\x6d\141\147\x65\137\x70\141\x74\150"]); goto lXmyk; guvli: $data["\163\x74\x61\164\145"] = $images_state[$i]; goto kk1lJ; y_3Rt: QjDp4: goto qfAxK; Jf81I: goto SyYrm; goto ID70G; IoPuP: $data["\x69\x6d\141\x67\145\x5f\160\141\x74\150"] = $images_path[$i]; goto humCA; MmB7k: $data["\x6f\x72\x64\145\x72\142\x79"] = $images_order[$i]; goto guvli; ysO1j: $data["\x69\x6d\141\147\145"] = $images_name[$i]; goto IoPuP; qfAxK: } goto WdvDf; WIBgK: $data["\x74\171\x70\145"] = "\x69\x6d\x61\147\145"; goto G4FWh; sSvq8: $images_id = $request_data["\x69\155\141\147\x65\x73\x5f\x69\144"]; goto WGnEn; G4FWh: $data["\x70\151\144"] = $pid; goto pQaNx; cUHFj: } protected function _removeFiles2($files) { goto UxHM4; mSRAE: IPB4t: goto tSkEG; UxHM4: if (!(!empty($files) && !is_array($files))) { goto IH5_b; } goto wnHJu; DJLYK: if (!$files) { goto IPB4t; } goto ngbId; wnHJu: $files = json_decode($files, true); goto GlMpw; ngbId: foreach ($files as $key => $value) { goto SIZho; sDBnR: foreach ($prefixs as $prefix) { goto Jv04l; lrPQl: unlink($filename); goto KJ4bl; KJ4bl: YOzVA: goto LGMvb; LGMvb: jqnW8: goto KW2cn; Jv04l: $filename = "{$path}\x2f{$prefix}{$name}"; goto x25ve; x25ve: if (!file_exists($filename)) { goto YOzVA; } goto lrPQl; KW2cn: } goto t4Sld; AyY76: if (!file_exists($filename)) { goto cNVl0; } goto DgCez; SIZho: $name = $value["\156\141\x6d\145"]; goto Y02M4; PolRe: mWyGU: goto Ppl98; PaxEj: hi2D9: goto VaiRD; o3YZz: $prefix = $value["\160\x72\x65\146\151\x78"]; goto jGOvn; UZvN2: $filename = $path . "\57" . $name; goto AyY76; Y02M4: if ($name) { goto hi2D9; } goto AWjY8; AWjY8: goto FWyM7; goto PaxEj; t4Sld: vxZR9: goto GRfTS; Ppl98: $prefixs = explode("\x2c", $prefix); goto sDBnR; DgCez: unlink($filename); goto eJkGP; VaiRD: $path = "\56\56\x2f" . $value["\x70\141\164\x68"]; goto o3YZz; Advhw: goto pa7jI; goto PolRe; eJkGP: cNVl0: goto Advhw; XIaVj: FWyM7: goto erIkJ; GRfTS: pa7jI: goto XIaVj; jGOvn: if ($prefix) { goto mWyGU; } goto UZvN2; erIkJ: } goto ln2cv; ln2cv: mYiYK: goto mSRAE; GlMpw: IH5_b: goto DJLYK; tSkEG: } protected function _mkdir($path, $mode = 493) { goto Cd0BP; Cd0BP: if (is_dir($path)) { goto CpugL; } goto FC1f7; NgUOk: return false; goto PA0yy; OCHJc: CpugL: goto NgUOk; FC1f7: return mkdir($path, $mode, true); goto OCHJc; PA0yy: } protected function _rmdir($path) { goto XAPtZ; nOd1T: SOv8Z: goto Wi6yH; fI097: qlEQn: goto YtYGG; BNqtv: goto yuRgi; goto TqeLT; Jex_D: PWbAW: goto lXABV; MSvSZ: N7JQz: goto Jex_D; iQ0dg: return false; goto fI097; C4jKd: return false; goto sI8wy; ju8BH: $this->_rmdir("{$path}\x2f{$item}"); goto b2Pfd; TbJKO: return true; goto MSvSZ; qNMMD: oZvYl: goto TbJKO; lZJIG: xxRtG: goto B4w5l; XAPtZ: if (is_dir($path)) { goto qlEQn; } goto iQ0dg; sI8wy: goto N7JQz; goto qNMMD; tAiYw: if (!($item != "\x2e" && $item != "\x2e\x2e")) { goto vesYG; } goto Fiz4b; TqeLT: beN0N: goto ju8BH; JUZ9A: if (rmdir($path)) { goto oZvYl; } goto C4jKd; b2Pfd: yuRgi: goto KM_la; B4w5l: if (!(false !== ($item = readdir($handle)))) { goto SOv8Z; } goto tAiYw; KM_la: vesYG: goto Nae6o; xDhum: unlink("{$path}\x2f{$item}"); goto BNqtv; Fiz4b: if (is_dir("{$path}\x2f{$item}")) { goto beN0N; } goto xDhum; Wi6yH: closedir($handle); goto JUZ9A; YtYGG: if (!($handle = opendir($path))) { goto PWbAW; } goto lZJIG; Nae6o: goto xxRtG; goto nOd1T; lXABV: } protected function _bulidUploadPath($temp_path, $data) { goto G6Cr0; nzRtt: $vardir = current(explode("\x21\x3d", $path_last)); goto JROvK; VdoB8: $path_last = end(explode("\57", $temp_path)); goto GsXiY; YrhH7: $true_path = $temp_path; goto hOGuG; GsXiY: if (!($path_last == $id)) { goto cl_F3; } goto yhbVE; OORRf: if (!(strpos($path_last, "\41\75") !== false)) { goto EDNyr; } goto nzRtt; LI1Jq: EDNyr: goto KA0Bq; AGgXl: GvkN0: goto vT43R; yhbVE: return $temp_path; goto em1e7; em1e7: cl_F3: goto OORRf; hOGuG: YzP7j: goto AGgXl; vT43R: return $true_path; goto ZmmCT; xgbOY: if (rename("\56\x2e\x2f" . $temp_path, "\56\x2e\57" . $true_path)) { goto YzP7j; } goto YrhH7; JROvK: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto LI1Jq; KA0Bq: if (!is_dir("\x2e\x2e\57" . $temp_path)) { goto GvkN0; } goto xgbOY; G6Cr0: $id = $data["\x69\x64"]; goto VdoB8; ZmmCT: } protected function _toTree($list, $pk = "\x69\144", $pid = "\x70\151\144", $child = "\x5f\143\150\151\x6c\144", $root = 0) { goto YTvIz; P8_bQ: return $tree; goto Y80g4; QK0Qw: foreach ($list as $key => $data) { goto gDyPq; BF1zE: goto w2PgN; goto FZpP5; o2BsC: $parent =& $refer[$parentId]; goto xc_ML; FZpP5: LSYVK: goto ReFwU; cSsjR: w2PgN: goto IJich; IJich: dbtEZ: goto FAaU6; gDyPq: $parentId = $data[$pid]; goto BHw5B; ReFwU: $tree[] =& $list[$key]; goto cSsjR; VtkzI: if (!isset($refer[$parentId])) { goto Ybn8B; } goto o2BsC; xc_ML: $parent[$child][] =& $list[$key]; goto NseSq; BHw5B: if ($root == $parentId) { goto LSYVK; } goto VtkzI; NseSq: Ybn8B: goto BF1zE; FAaU6: } goto o7zRq; Y7jao: if (!is_array($list)) { goto BhJ7C; } goto fjuPq; YTvIz: $tree = array(); goto Y7jao; fjuPq: $refer = array(); goto Aibrt; Aibrt: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; ciWOz: } goto MTp9q; gRd5Q: BhJ7C: goto P8_bQ; MTp9q: tXyl5: goto QK0Qw; o7zRq: sTlsH: goto gRd5Q; Y80g4: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto T63X7; CEwPk: if (!($i < $length)) { goto foSRp; } goto G40Vp; lTRYQ: if (!$isuppercase) { goto mUofb; } goto vlQ1i; vlQ1i: $chars .= "\x41\x42\103\104\105\x46\107\110\111\112\x4b\114\x4d\116\117\x50\121\x52\123\124\x55\126\127\130\x59\x5a"; goto GmfrF; K7BCT: x0IFW: goto c1ums; C7YV_: foSRp: goto Mz5WM; Nditr: $chars .= "\141\x62\143\x64\x65\x66\x67\150\x69\152\x6b\x6c\155\156\157\160\x71\x72\x73\x74\165\x76\x77\170\x79\172"; goto WgjMX; Vsf_8: $i = 0; goto KRWbz; vqz_B: $chars .= "\41\x40\43\44\45\136\x26\x2a\50\x29"; goto IptR0; Z5bKl: if (!$isspecial) { goto z2Awu; } goto vqz_B; KRWbz: r4AI9: goto CEwPk; Mz5WM: return $result; goto J9MPT; GmfrF: mUofb: goto pEOG5; PyQAZ: $max = strlen($chars) - 1; goto Vsf_8; pEOG5: if (!$isnumber) { goto DT3ny; } goto dxX1I; T63X7: if (!$islowercase) { goto IhH_A; } goto Nditr; dxX1I: $chars .= "\60\x31\62\63\x34\x35\66\67\70\x39"; goto FbML0; IptR0: z2Awu: goto eW7xX; FbML0: DT3ny: goto Z5bKl; c1ums: $i++; goto oWorv; WgjMX: IhH_A: goto lTRYQ; eW7xX: $result = ''; goto PyQAZ; oWorv: goto r4AI9; goto C7YV_; G40Vp: $result .= $chars[rand(0, $max)]; goto K7BCT; J9MPT: } protected function _UTF82GBK($str) { goto Yp5Uw; jPVsA: Dehpn: goto fdPA5; fdPA5: return iconv("\x55\x54\x46\55\70", "\107\102\113\x2f\x2f\111\x47\x4e\x4f\122\x45", $str); goto ioAmC; ioAmC: xZAq4: goto bliZn; ZiEMU: goto xZAq4; goto jPVsA; Yp5Uw: if (stripos(php_uname("\163"), "\127\151\x6e\x64\157\167") !== false) { goto Dehpn; } goto FUMR2; FUMR2: return $str; goto ZiEMU; bliZn: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto CSqU9; NjrJh: $realip = $_SERVER["\122\105\115\117\124\x45\x5f\101\x44\104\122"]; goto aYtwH; GM9Bv: $realip = getenv("\x48\124\124\x50\137\130\137\106\117\x52\127\101\x52\104\105\x44\137\x46\117\x52"); goto tXOZj; ggDn2: if (isset($_SERVER["\x48\124\x54\120\x5f\x58\x5f\106\117\122\x57\x41\122\104\x45\104\x5f\x46\117\122"])) { goto i2EZl; } goto fwt37; fwt37: if (isset($_SERVER["\110\x54\124\120\137\103\114\x49\105\116\x54\x5f\111\x50"])) { goto J9lyO; } goto NjrJh; QmexP: goto EF1XY; goto qBYWM; erXEt: $realip = getenv("\x52\x45\x4d\x4f\x54\x45\137\101\104\104\122"); goto Mpgjm; eAtI4: if (getenv("\x48\x54\124\120\137\130\x5f\x46\117\122\127\x41\122\x44\x45\x44\137\x46\117\122")) { goto FHOXx; } goto TykND; CSqU9: if (isset($_SERVER)) { goto Er02p; } goto eAtI4; TykND: if (getenv("\110\124\124\x50\137\103\114\x49\x45\116\x54\x5f\111\x50")) { goto y9QhD; } goto erXEt; Vxiac: $realip = $_SERVER["\x48\x54\x54\120\137\130\137\x46\117\122\x57\x41\122\104\105\x44\137\106\117\x52"]; goto dI4Xa; aYtwH: goto x06u6; goto JCZzL; VF17W: $realip = $_SERVER["\x48\124\124\120\137\103\x4c\x49\105\116\124\x5f\x49\x50"]; goto UTkw7; qBYWM: y9QhD: goto zcx5d; YHHcA: Er02p: goto ggDn2; aFNks: $realip = $realip[0]; goto D_AyG; xYcbi: J9lyO: goto VF17W; YutFA: NccSh: goto MmgLR; w3DRC: $realip = $realip[0]; goto XHOp1; MmgLR: return $realip; goto elNXN; qVP6P: goto x06u6; goto xYcbi; ZeBV6: EF1XY: goto AcxDh; JCZzL: i2EZl: goto Vxiac; zcx5d: $realip = getenv("\110\x54\124\x50\137\103\114\x49\x45\116\x54\x5f\111\120"); goto ZeBV6; dI4Xa: $realip = explode("\x2c", $realip); goto w3DRC; Mpgjm: goto EF1XY; goto wqXfF; wqXfF: FHOXx: goto GM9Bv; D_AyG: $realip = empty($realip) ? $_SERVER["\x52\105\115\x4f\124\105\137\x41\104\x44\x52"] : $realip; goto QmexP; XHOp1: $realip = empty($realip) ? $_SERVER["\122\105\x4d\x4f\x54\x45\137\101\104\104\122"] : $realip; goto qVP6P; UTkw7: x06u6: goto YutFA; AcxDh: goto NccSh; goto YHHcA; tXOZj: $realip = explode("\x2c", $realip); goto aFNks; elNXN: } protected function _trash($item, $request_data) { goto Rnpad; X9Oxw: $data["\x73\x74\141\164\x65"] = 0; goto jf1Mv; jf1Mv: $data["\143\164\x69\x6d\145"] = time(); goto MnKg4; KuhsL: $path = $request_data["\160\x61\164\x68"]; goto eHz9v; qTfUN: $data["\164\151\164\154\x65"] = $item["\164\151\164\x6c\145"]; goto KuhsL; DIu6T: $data["\141\144\x6d\x69\x6e\137\156\x61\x6d\145"] = $this->admin["\x6e\x61\x6d\x65"]; goto rg3t2; fwcZZ: $data["\x61\144\x6d\x69\x6e\137\x69\x64"] = $this->admin["\151\x64"]; goto DIu6T; CXhV1: $data["\144\x61\x74\x61"] = json_encode($item); goto X9Oxw; MnKg4: return $this->db->insert("\164\x72\x61\163\x68", $data)->is(); goto G29R8; wixh_: $data["\164\141\x62\154\x65"] = $this->table; goto CXhV1; rg3t2: $data["\x6e\157\x74\x65"] = $request_data["\156\x6f\x74\x65"]; goto qTfUN; Rnpad: $data = array(); goto fwcZZ; eHz9v: $data["\160\141\164\150"] = $path ? $item[$path] : ''; goto wixh_; G29R8: } protected function _log($type, $data = array()) { goto QGdQB; iGP31: $data["\141\144\155\x69\x6e\137\151\144"] = $this->admin["\151\144"]; goto zobd1; RJtz_: $data["\x69\x70"] = $this->_getIP(); goto pfvGL; CMecG: $data["\164\x79\x70\145"] = $type; goto RJtz_; lDBZy: return $this->db->insert("\154\157\147", $data)->is(); goto IMHmM; QGdQB: if (!($type != "\154\x6f\147\x69\x6e")) { goto BZROf; } goto iGP31; pfvGL: $data["\x63\x74\x69\155\145"] = time(); goto lDBZy; zobd1: $data["\141\144\x6d\151\156\137\156\x61\x6d\x65"] = $this->admin["\156\141\155\145"]; goto iV8N4; sGEd4: $data["\164\x61\142\x6c\145"] = $this->table; goto CMecG; iV8N4: $data["\165\162\x6c"] = $_SERVER["\x48\x54\124\120\x5f\122\105\x46\x45\x52\x45\x52"]; goto Gh0UM; Gh0UM: BZROf: goto sGEd4; IMHmM: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }

<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto Lyr5M; Lyr5M: ifeiwu\Loader::import("\145\170\164\x65\x6e\x64\x2f\x4d\x79\163\161\x6c\x42\x61\143\153\165\160"); goto fP6Nt; fP6Nt: $mb = new MysqlBackup(); goto mQblU; mQblU: $name = $mb->export(); goto qys7S; tVGz6: return $this->error(); goto azkAS; gPcXm: return $this->success('', $name); goto UzdVY; qys7S: if ($name !== false) { goto xJM0S; } goto tVGz6; azkAS: goto F6FvA; goto bL49S; bL49S: xJM0S: goto gPcXm; UzdVY: F6FvA: goto HScrJ; HScrJ: } protected function postReply($filename) { goto TgX9B; Iuc95: return $this->success(); goto G1kat; G1kat: Ve_Wj: goto aBNeh; QGw1p: if (!$errors) { goto CtHNk; } goto wUfWN; QiZ1k: CtHNk: goto Iuc95; iXSjy: $mb = new MysqlBackup(); goto hxX3P; TgX9B: ifeiwu\Loader::import("\145\170\x74\145\x6e\x64\57\x4d\x79\163\161\x6c\x42\x61\x63\153\x75\x70"); goto iXSjy; AZOZi: goto Ve_Wj; goto QiZ1k; hxX3P: $errors = $mb->import($filename); goto QGw1p; wUfWN: return $this->error(json_encode($errors)); goto AZOZi; aBNeh: } protected function getSqls() { goto y6DOA; tZNb0: goto dAdYi; goto BrpNk; aq_1a: $files[] = array("\156\141\155\145" => $file, "\163\x69\172\145" => $stat["\x73\x69\172\145"], "\143\164\x69\155\x65" => $stat["\143\164\151\155\x65"]); goto lODEn; lODEn: EljWb: goto tZNb0; rcypj: if (!($file != "\56" && $file != "\x2e\56" && strpos($file, "\56"))) { goto EljWb; } goto Q_wza; coshT: tHSid: goto vSvuL; c4XV3: if (!(false != ($handle = opendir($dir)))) { goto tHSid; } goto fYbT1; fYbT1: dAdYi: goto kWtMd; mPHFt: closedir($handle); goto coshT; kWtMd: if (!(false !== ($file = readdir($handle)))) { goto x6KEt; } goto rcypj; y6DOA: $dir = "\163\x71\x6c\x2f"; goto c4XV3; Q_wza: $stat = stat($dir . $file); goto aq_1a; BrpNk: x6KEt: goto mPHFt; vSvuL: return array_reverse($files); goto INW9L; INW9L: } protected function postDelete($filename) { goto T2_Pc; EbKj7: return $this->success(); goto pOJ4N; nazzC: RvDfG: goto EbKj7; T2_Pc: if (unlink("\163\161\154\57{$filename}") !== false) { goto RvDfG; } goto KnY74; KnY74: return $this->error(); goto ybeZP; pOJ4N: Ukq7c: goto ONOWP; ybeZP: goto Ukq7c; goto nazzC; ONOWP: } }
